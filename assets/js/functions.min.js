function wu_on_load(e){wu_initialize_tooltip(),wu_initialize_datepickers(),wu_initialize_colorpicker(),wu_initialize_iconfontpicker(),wu_initialize_editors(),wu_update_clock(),wu_initialize_clipboardjs(),wu_initialize_imagepicker(),wu_image_preview()}function wu_format_money(e){e=parseFloat(e.toString().replace(/[^0-9\.]/g,""));const i=wp.hooks.applyFilters("wu_format_money",{currency:{symbol:wu_settings.currency_symbol,format:wu_settings.currency_position,decimal:wu_settings.decimal_separator,thousand:wu_settings.thousand_separator,precision:wu_settings.precision},number:{precision:0,thousand:",",decimal:","}});return accounting.settings=i,accounting.formatMoney(e)}function wu_modal_set_width(e){jQuery(document).find("#WUB_ajaxContent").animate({width:e},0,(function(){jQuery(document).find("#WUB_window").animate({width:e,marginLeft:"-"+parseInt(e/2,10)+"px"},120,(function(){wu_modal_refresh()}))}))}function wu_modal_refresh(){let e=jQuery(".wu_form").height();const i=jQuery(window).height()-150;e=e>=i?i:e,WUB_HEIGHT=e,jQuery(document).find("#WUB_ajaxContent").animate({height:e},300,(function(){jQuery(document).find("#WUB_window").animate({marginTop:"-"+parseInt(e/2,10)+"px"},300)}))}window.wu_initialize_tooltip=function(){jQuery('[role="tooltip"]').tipTip({attribute:"aria-label"})},window.wu_initialize_editors=function(){jQuery("textarea[data-editor]").each((function(){tinymce.remove("#"+jQuery(this).attr("id")),tinymce.init({selector:"#"+jQuery(this).attr("id"),menubar:"",theme:"modern",...wp.editor.getDefaultSettings().tinymce})}))},window.wu_initialize_imagepicker=function(){jQuery(".wu-wrapper-image-field").each((function(){const e=jQuery(this);e.find("img").css({maxWidth:"100%"});e.find("img").attr("src")?e.find(".wu-wrapper-image-field-upload-actions").show():e.find(".wu-add-image-wrapper").show(),e.on("click","a.wu-add-image",(function(){"undefined"==typeof wu_media_frame?(wu_media_frame=wp.media({title:wu_fields.l10n.image_picker_title,multiple:!1,button:{text:wu_fields.l10n.image_picker_button_text}}),wu_media_frame.on("select",(function(){const i=wu_media_frame.state().get("selection").first().toJSON(),t=e.find("img");e.find("img").removeClass("wu-absolute").attr("src",i.url),e.find(".wubox").attr("href",i.url),e.find("input").val(i.id),e.find(".wu-add-image-wrapper").hide(),t.on("load",(function(){e.find(".wu-wrapper-image-field-upload-actions").show()}))})),wu_media_frame.open()):wu_media_frame.open()})),e.find(".wu-remove-image").on("click",(function(i){i.preventDefault(),e.find("img").removeAttr("src").addClass("wu-absolute"),e.find("input").val(""),e.find(".wu-wrapper-image-field-upload-actions").hide(),e.find(".wu-add-image-wrapper").show()}))}))},window.wu_initialize_colorpicker=function(){jQuery(document).ready((function(){jQuery(".wu_color_field").each((function(){jQuery(this).wpColorPicker()}))}))},window.wu_initialize_iconfontpicker=function(){jQuery(document).ready((function(){jQuery(".wu_select_icon").length&&jQuery(".wu_select_icon").fontIconPicker({theme:"wu-theme"})}))},window.wu_transition_text=function(e,i=!1){const t=jQuery(e),n={classes:[],has_icon:i,original_value:t.html(),get_icon(){return this.has_icon?'<span class="wu-spin wu-inline-block wu-mr-2"><span class="dashicons-wu-loader"></span></span>':""},clear_classes(){t.removeClass(this.classes)},add_classes(e){this.classes=e},text(e,i="",n=!1){return this.clear_classes(),this.add_classes(i),n&&(this.has_icon=!this.has_icon),t.animate({opacity:.75},300,()=>{t.addClass(i).html(this.get_icon()+e)}),this},done(e=5e3){return setTimeout(()=>{t.animate({opacity:1},300,()=>{this.clear_classes(),t.html(n.original_value)})},e),this}};return n},window.wu_initialize_clipboardjs=function(){new ClipboardJS(".wu-copy")},window.wu_initialize_datepickers=function(){jQuery(".wu-datepicker, [wu-datepicker]").each((function(){const e=jQuery(this),i=e.data("format"),t=e.data("allow-time");e.flatpickr({animate:!1,time_24hr:!0,enableTime:void 0===t||t,dateFormat:i,allowInput:!0,defaultDate:e.val()})}))},window.wu_update_clock=function(){const e=60*(60*wu_ticker.server_clock_offset+(new Date).getTimezoneOffset())*1e3;function i(){const i=new Date((new Date).getTime()+e),t=i.getFullYear();let n=i.getMonth()+1,o=i.getDate(),a=i.getHours(),r=i.getMinutes(),u=i.getSeconds();n<10&&(n="0"+n),o<10&&(o="0"+o),r<10&&(r="0"+r),u<10&&(u="0"+u),a<10&&(a="0"+a),jQuery("#wu-ticker").text(t+"-"+n+"-"+o+" "+a+":"+r+":"+u)}setInterval(i,500)},window.wu_on_load=wu_on_load,window.wu_block_ui=function(e){jQuery(e).wu_block({message:'<div class="spinner is-active wu-float-none" style="float: none !important;"></div>',overlayCSS:{backgroundColor:"#FFF",opacity:.6},css:{padding:0,margin:0,width:"50%",fontSize:"14px !important",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"none",backgroundColor:"none",cursor:"wait"}});const i=jQuery(e);return i.unblock=jQuery(e).wu_unblock,i},window.wu_image_preview=function(){const e="#wu-image-preview",i=1==wu_settings.disable_image_zoom?".wu-image-preview:not(img)":".wu-image-preview",t=e.replace("#","");0===jQuery(e).length&&jQuery("body").append("<div id='"+t+"' class='wu-rounded wu-p-1 wp-ui-primary' style='max-width: 600px; display: none; z-index: 9999999;'><img class='wu-rounded wu-block wu-m-0 wu-p-0 wu-bg-gray-100' style='max-width: 100%;' src='' alt=''></div>"),jQuery(i).hover((function(i){this.t=this.title,this.title="";const t=jQuery(this).data("image");jQuery(e).find("img").attr("src",t).attr("alt",this.t).end().css({position:"absolute",display:"none"}).css("top",i.pageY-10+"px").css("left",i.pageX+30+"px").fadeIn("fast")}),(function(){this.title=this.t,jQuery(e).fadeOut("fast")})),jQuery(i).mousemove((function(i){jQuery(e).css("top",i.pageY-10+"px").css("left",i.pageX+30+"px")}))},window.wu_initialize_code_editors=function(){jQuery("[data-code-editor]").length&&(void 0===window.wu_editor_instances&&(window.wu_editor_instances={}),jQuery("[data-code-editor]").each((function(){const e=jQuery(this),i=e.attr("id");if(void 0===window.wu_editor_instances[i]){if(!e.is(":visible"))return;window.wu_editor_instances[i]=wp.codeEditor.initialize(i,{codemirror:{mode:e.data("code-editor"),lint:!0,autoCloseBrackets:!0,matchBrackets:!0,indentUnit:2,indentWithTabs:!0,lineNumbers:!0,lineWrapping:!0,styleActiveLine:!0,continueComments:!0,inputStyle:"contenteditable",direction:"ltr",gutters:[],extraKeys:{"Ctrl-Space":"autocomplete","Ctrl-/":"toggleComment","Cmd-/":"toggleComment","Alt-F":"findPersistent"}}})}})))},window.wu_moment=function(e){return moment.tz(e,"Etc/UTC")};