function wu_initialize_input_masks(){if(jQuery("[data-money]").length){let e=wu_settings.currency_symbol,i=!1;"%v%s"===wu_settings.currency_position?i=!0:"%s %v"===wu_settings.currency_position?e+=" ":"%v %s"===wu_settings.currency_position&&(e=" "+e,i=!0),jQuery("[data-money]").each((function(){wu_money_input_masks=new Cleave(this,{numeral:!0,numericOnly:!0,numeralThousandsGroupStyle:"thousand",numeralDecimalMark:wu_settings.decimal_separator,delimiter:wu_settings.thousand_separator,delimiterLazyShow:!0,prefix:e,tailPrefix:i})}))}jQuery("[data-cleave]").length&&jQuery("[data-cleave]").each((function(){1===parseInt(jQuery(this).data("cleave"),10)&&(wu_input_masks=new Cleave(this,{prefix:jQuery(this).data("prefix")||"",tailPrefix:jQuery(this).data("prefix-tail")||!1}))}))}function wu_on_load(e){wu_initialize_tooltip(),wu_initialize_datepickers(),wu_initialize_colorpicker(),wu_initialize_iconfontpicker(),wu_initialize_editors(),wu_update_clock(),wu_initialize_input_masks(),wu_initialize_clipboardjs(),wu_initialize_imagepicker(),wu_image_preview(".wu-image-preview")}function wu_format_money(e){return e=parseFloat(e.toString().replace(/[^0-9\.]/g,"")),accounting.settings={currency:{symbol:wu_settings.currency_symbol,format:wu_settings.currency_position,decimal:wu_settings.decimal_separator,thousand:wu_settings.thousand_separator,precision:wu_settings.precision},number:{precision:0,thousand:",",decimal:","}},accounting.formatMoney(e)}function wu_modal_refresh(){let e=jQuery(".wu_form").height();const i=jQuery(window).height()-150;e=e>=i?i:e,WUB_HEIGHT=e,jQuery(document).find("#WUB_ajaxContent").animate({height:e},300,(function(){jQuery(document).find("#WUB_window").animate({marginTop:"-"+parseInt(e/2,10)+"px"},300)}))}window.wu_initialize_tooltip=function(){jQuery('[role="tooltip"]').tipTip({attribute:"aria-label"})},window.wu_initialize_editors=function(){jQuery("textarea[data-editor]").each((function(){tinymce.remove("#"+jQuery(this).attr("id")),tinymce.init({selector:"#"+jQuery(this).attr("id"),menubar:"",theme:"modern",...wp.editor.getDefaultSettings().tinymce})}))},window.wu_initialize_imagepicker=function(){jQuery(".wu-wrapper-image-field").each((function(){const e=jQuery(this);e.find("img").css({maxWidth:"246px",maxHeight:"246px"}),e.on("click","a.wu-add-image",(function(){"undefined"==typeof wu_media_frame?(wu_media_frame=wp.media({title:wu_fields.l10n.image_picker_title,multiple:!1,button:{text:wu_fields.l10n.image_picker_button_text}}),wu_media_frame.on("select",(function(){const i=wu_media_frame.state().get("selection").first().toJSON();e.find("img").removeClass("wu-absolute").attr("src",i.url),e.find("input").val(i.id),e.find(".wu-remove-image").show()})),wu_media_frame.open()):wu_media_frame.open()})),e.find(".wu-remove-image").on("click",(function(i){i.preventDefault(),e.find("img").removeAttr("src").addClass("wu-absolute"),e.find("input").val(""),e.find(".wu-remove-image").hide()}))}))},window.wu_initialize_colorpicker=function(){jQuery(document).ready((function(){jQuery(".wu_color_field").each((function(){jQuery(this).wpColorPicker()}))}))},window.wu_initialize_iconfontpicker=function(){jQuery(document).ready((function(){jQuery(".wu_select_icon").fontIconPicker({theme:"wu-theme"})}))},window.wu_initialize_clipboardjs=function(){new ClipboardJS(".wu-copy")},window.wu_initialize_datepickers=function(){jQuery(".wu-datepicker, [wu-datepicker]").each((function(){const e=jQuery(this),i=e.data("format"),t=e.data("allow-time");e.flatpickr({animate:!1,time_24hr:!0,enableTime:void 0===t||t,dateFormat:i,allowInput:!0})}))},window.wu_update_clock=function(){const e=60*(60*wu_ticker.server_clock_offset+(new Date).getTimezoneOffset())*1e3;function i(){const i=new Date((new Date).getTime()+e),t=i.getFullYear();let n=i.getMonth()+1,o=i.getDate(),a=i.getHours(),r=i.getMinutes(),u=i.getSeconds();n<10&&(n="0"+n),o<10&&(o="0"+o),r<10&&(r="0"+r),u<10&&(u="0"+u),a<10&&(a="0"+a),jQuery("#wu-ticker").text(t+"-"+n+"-"+o+" "+a+":"+r+":"+u)}setInterval(i,500)},window.wu_on_load=wu_on_load,window.wu_block_ui=function(e){return jQuery(e).block({message:'<div class="spinner is-active wu-float-none" style="float: none !important;"></div>',overlayCSS:{backgroundColor:"#FFF",opacity:.6},css:{padding:0,margin:0,width:"50%",fontSize:"14px !important",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"none",backgroundColor:"none",cursor:"wait"}}),jQuery(e)},window.wu_image_preview=function(e){const i="#wu-image-preview";jQuery(e).hover((function(e){this.t=this.title,this.title="",jQuery(i).remove();const t=jQuery(this).data("image"),n=i.replace("#","");jQuery("body").append("<div id='"+n+"' class='wu-rounded wu-p-1 wp-ui-primary' style='max-width: 600px;'><img class='wu-rounded wu-block wu-m-0 wu-p-0 wu-bg-gray-100' style='max-width: 100%;' src='"+t+"' alt='"+this.t+"'></div>"),jQuery(i).css({position:"absolute",display:"none"}).css("top",e.pageY-10+"px").css("left",e.pageX+30+"px").fadeIn("fast")}),(function(){this.title=this.t,jQuery(i).fadeOut("fast",(function(){jQuery(this).remove()}))})),jQuery(e).mousemove((function(e){jQuery(i).css("top",e.pageY-10+"px").css("left",e.pageX+30+"px")}))},window.wu_initialize_code_editors=function(){jQuery("[data-code-editor]").length&&(void 0===window.wu_editor_instances&&(window.wu_editor_instances={}),jQuery("[data-code-editor]").each((function(){const e=jQuery(this),i=e.attr("id");if(void 0===window.wu_editor_instances[i]){if(!e.is(":visible"))return;window.wu_editor_instances[i]=wp.codeEditor.initialize(i,{codemirror:{mode:e.data("code-editor"),lint:!0,autoCloseBrackets:!0,matchBrackets:!0,indentUnit:2,indentWithTabs:!0,lineNumbers:!0,lineWrapping:!0,styleActiveLine:!0,continueComments:!0,inputStyle:"contenteditable",direction:"ltr",gutters:[],extraKeys:{"Ctrl-Space":"autocomplete","Ctrl-/":"toggleComment","Cmd-/":"toggleComment","Alt-F":"findPersistent"}}})}})))};