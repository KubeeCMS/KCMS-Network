!function(t,e){window.wu_load_apps=function(i){t.each(t("[data-wu-app]"),(function(o,n){if(void 0===window.Vue)return;const s=t(n).data("wu-app");if("object"==typeof window["wu_"+s]){const t=["add_checkout_form_field"];if(!_.contains(t,s))return}window["wu_"+s]=new Vue({name:"string"==typeof s?s:null,el:n,directives:{init:{bind(t,e,i){i.context[e.arg]=e.value}},initempty:{bind(t,e,i){""===i.context[e.arg]&&(i.context[e.arg]=e.value)}}},data(){let e=wu_settings.currency_symbol,i="";"%v%s"===wu_settings.currency_position?(e="",i=wu_settings.currency_symbol):"%s %v"===wu_settings.currency_position?e=wu_settings.currency_symbol+" ":"%v %s"===wu_settings.currency_position&&(e="",i=" "+wu_settings.currency_symbol);const o={money_settings:{prefix:e,suffix:i,decimal:wu_settings.decimal_separator,thousands:wu_settings.thousand_separator,precision:parseInt(wu_settings.precision,10),masked:!1}};return Object.assign({},t(n).data("state"),o)},computed:{hooks:()=>e,console:()=>console,window:()=>window,shortcode(){if(void 0===this.id||void 0===this.attributes)return"";const t=this;return"["+_.reduce({id:this.id,...this.attributes},(function(e,i,o){return i===t.defaults[o]?e:(!1===i?i="false":!0===i&&(i=" true"),e+" "+o+'="'+(_.isString(i)?i.trim():i)+'"')}))+"]"}},mounted(){wu_on_load(),e.doAction("wu_"+s+"_mounted",this.$data);const o=t(n).data("on-load");"function"==typeof window[o]&&window[o](),"function"==typeof i&&i(),this.$nextTick((function(){window.wu_initialize_code_editors(),window.wu_modal_refresh()}))},updated(){this._priorState||(this._priorState=this.$options.data());const t=this,i=_.findKey(this._data,(e,i)=>!_.isEqual(e,t._priorState[i]));this._priorState={...this._data},this.$nextTick((function(){e.doAction("wu_"+s+"_changed",i,t.$data),window.wu_initialize_code_editors(),window.wu_modal_refresh()}))},methods:{send:(t,e,i,o)=>"window"===t?window[e](i,o):window[t][e](i,o),get_value:t=>window[t],set_value(t,e){this[t]=e},get_state_value(t,e){return void 0===this[t]?e:this[t]},duplicate_and_clean(t,e){const i=jQuery(e),o=i.clone();o.attr("id",o.attr("id")+"_copy").find("input, textarea").val("").end().insertAfter(i)},wu_format_money:t=>wu_format_money(t),require(t,e){return"[object Array]"===Object.prototype.toString.call(this[t])?this[t].indexOf(e)>-1:"[object Array]"===Object.prototype.toString.call(e)?e.indexOf(this[t])>-1:this[t]==e},open(t){t.preventDefault(),this.edit=!0}}}),window["wu_"+s].$watch("section",(function(t){try{const e=new URL(window.location.href);e.searchParams.set(s,t),history.pushState({},null,e)}catch(t){console.warn("Browser does not support pushState.",t)}}))}))},t(document).ready((function(){Vue.component("colorPicker",{props:["value"],template:'<input type="text">',mounted(){const e=this;t(this.$el).val(this.value).wpColorPicker({width:200,defaultColor:this.value,change(t,i){e.$emit("input",i.color.toString())}})},watch:{value(e){t(this.$el).wpColorPicker("color",e)}},destroyed(){t(this.$el).off().wpColorPicker("destroy")}}),Vue.component("wpEditor",{props:["value","id","name"],template:'<textarea v-bind="$props"></textarea>',mounted(){if(void 0===wp.editor)return;const t=this;wp.editor.remove(this.id),wp.editor.initialize(this.id,{tinymce:{setup(e){e.on("init",(function(){wu_modal_refresh()})),e.on("keyup",()=>{e.isDirty()&&t.$emit("input",e.getContent())})}}})},destroyed(){void 0!==wp.editor&&wp.editor.remove(this.id)}}),jQuery("body").on("wutb_unload",(function(){const t="wu_"+jQuery("#WUB_window").find("ul[data-wu-app]").data("wu-app");delete window[t],delete window[t+"_errors"]})),jQuery("body").on("wubox:load",(function(){wu_load_apps()})),wu_load_apps()}))}(jQuery,wp.hooks);