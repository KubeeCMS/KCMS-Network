!function(t){wu={tables:{},configs:{}},t(document).ready((function(){wu_on_load()}))}(jQuery),function(t){t(document).ready((function(){t("#scraper").on("click",(function(e){e.preventDefault();const i=wu_block_ui("#wp-ultimo-image-widget");t(".wu-scraper-note, .wu-scraper-error").hide(),jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"wu_get_screenshot",site_id:t("#id").val()},error(){i.unblock()},success(e){i.unblock(),e.success?(t("#wp-ultimo-image-widget img").attr("src",e.data.attachment_url),t("#wp-ultimo-image-widget input").val(e.data.attachment_id),t(".wu-scraper-note").show()):(t(".wu-scraper-error").show(),t(".wu-scraper-error-message").text(e.data.pop().message))}})})),Vue.component("colorPicker",{props:["value"],template:'<input type="text">',mounted(){const e=this;t(this.$el).val(this.value).wpColorPicker({width:200,defaultColor:this.value,change(t,i){e.$emit("input",i.color.toString())}})},watch:{value(e){t(this.$el).wpColorPicker("color",e)}},destroyed(){t(this.$el).off().wpColorPicker("destroy")}}),Vue.component("wpEditor",{props:["value","id","name"],template:'<textarea v-bind="$props"></textarea>',mounted(){wp.editor.remove(this.id),wp.editor.initialize(this.id,{tinymce:!0})},destroyed(){wp.editor.remove(this.id)}}),jQuery("body").on("wutb_unload",(function(){const t="wu_"+jQuery("#WUB_window").find("ul[data-wu-app]").data("wu-app");delete window[t],delete window[t+"_errors"]})),t.each(t("[data-wu-app]"),(function(e,i){if(void 0===window.Vue)return;const o=t(i).data("wu-app");if("object"==typeof window["wu_"+o]){const t=["add_checkout_form_field"];if(!_.contains(t,o))return}window["wu_"+o]=new Vue({name:"string"==typeof o?o:null,el:i,data:()=>t(i).data("state"),computed:{shortcode(){if(void 0===this.id||void 0===this.attributes)return"";const t=this;return"["+_.reduce({id:this.id,...this.attributes},(function(e,i,o){return i===t.defaults[o]?e:e+" "+o+'="'+i+'"'}))+"]"}},mounted(){wu_on_load();const e=t(i).data("on-load");"function"==typeof window[e]&&window[e]()},updated(){this._priorState||(this._priorState=this.$options.data());const t=this,e=_.findKey(this._data,(e,i)=>!_.isEqual(e,t._priorState[i]));this._priorState={...this._data},this.$nextTick((function(){jQuery("body").trigger("wu_"+o+"_changed",[e]),window.wu_initialize_code_editors(),window.wu_modal_refresh()}))},methods:{send:(t,e,i)=>"window"===t?window[e](i):window[t][e](i),get_value:t=>window[t],set_value(t,e){this[t]=e},get_state_value(t,e){return void 0===this[t]?e:this[t]},duplicate_and_clean(t,e){const i=jQuery(e),o=i.clone();o.attr("id",o.attr("id")+"_copy").find("input, textarea").val("").end().insertAfter(i)},wu_format_money:t=>wu_format_money(t),require(t,e){return"[object Array]"===Object.prototype.toString.call(this[t])?this[t].indexOf(e)>-1:"[object Array]"===Object.prototype.toString.call(e)?e.indexOf(this[t])>-1:this[t]==e},open(t){t.preventDefault(),this.edit=!0}}})}))}))}(jQuery);