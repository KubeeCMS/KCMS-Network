!function(e){jQuery(document).ready((function(){jQuery(document).on("click","#action_button",(function(t){t.preventDefault();const a=e(this).data("page");let o="",n="";if("list"===a){o=e(this).data("url"),n=e(this).data("event");const t=e(this).data("object");jQuery('[data-loading="wu_action_button_loading_'+t+'"]').removeClass("hidden")}if("edit"===a){o=e("input[name=webhook_url").val(),n=e("select[name=event").val();const t=e(this).data("object");jQuery('[data-loading="wu_action_button_loading_'+t+'"]').removeClass("hidden")}e.ajax({method:"post",url:ajaxurl,data:{action:e(this).data("action"),webhook_id:e(this).data("object"),webhook_url:o,webhook_event:n},success(t){t.response?(e('[data-loading="wu_action_button_loading_'+t.id+'"]').addClass("hidden"),Swal.fire({title:"Test Response",icon:"success",html:'<pre id="content" class="wu-overflow-auto wu-p-4 wu-m-0 wu-mt-2 wu-rounded wu-text-left wu-bg-gray-800 wu-text-white wu-font-mono wu-border wu-border-solid wu-border-gray-300 wu-max-h-screen wu-overflow-y-auto">'+JSON.stringify(t.response,null,2)+"</pre>",showCloseButton:!0,showCancelButton:!1})):(e('[data-loading="wu_action_button_loading_'+t.id+'"]').addClass("hidden"),Swal.fire({title:wu_webhook_page.i18n.error_title,icon:"error",html:wu_webhook_page.i18n.error_message,showCloseButton:!0,showCancelButton:!1}))}})})),wu_event_payload_preview=new Vue({el:"#wu_payload",data:()=>({payload:"",event:e('select[name="event"]').val(),loading:!0}),watch:{event(){this.get_event_payload()}},methods:{get_event_payload(){const t=this;t.loading=!0,e.ajax({method:"post",url:ajaxurl,data:{action:"wu_get_event_payload_preview",event:t.event},success(e){t.payload=e,t.loading=!1}})}},mounted(){this.get_event_payload()}}),e(document).on("change",'select[name="event"]',(function(){wu_event_payload_preview.event=e('select[name="event"]').val()}));new ClipboardJS(".btn-clipboard").on("success",(function(t){const a=e(t.trigger),o=a.text();a.attr("disabled","disabled").text(wu_webhook_page.i18n.copied),setTimeout((function(){a.text(o).removeAttr("disabled")}),3e3)}))}))}(jQuery);