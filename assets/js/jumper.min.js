!function(e){e(document).ready((function(){const t=e("#wu-jumper-select").selectize({create:!1,maxItems:1,optgroupField:"group",optgroupValueField:"value",searchField:["text","name","display_name","domain","title","desc","code"],render:{option(e){void 0===e.model&&(e.model="jumper-link"),void 0===e.text&&(e.text=e.reference_code||e.name||e.title||e.display_name||e.code),void 0===e.group&&(e.group=e.model);const t=jQuery("#wu-template-"+e.model).length?jQuery("#wu-template-"+e.model).html():jQuery("#wu-template-default").html();return _.template(t,{interpolate:/\{\{(.+?)\}\}/g})(e)}},load(t,r){if(!t.length)return r();e("#wu-jumper .wu-jumper-loading").show(),jQuery.ajax({url:wu_jumper_vars.ajaxurl,type:"POST",data:{action:"wu_search",model:"all",number:99,query:{search:"*"+t+"*"}},error(){r()},success(t){e("#wu-jumper .wu-jumper-loading").hide(),r(t)}})}});t.on("change",(function(){var r;(r=e(this).val()).toLowerCase().indexOf(wu_jumper_vars.base_url)>=0||r.toLowerCase().indexOf(wu_jumper_vars.network_base_url)>=0?(window.location.href=e(this).val(),e(this).parent().parent().find(".wu-jumper-redirecting").show()):(window.open(e(this).val(),"_blank"),e(t.parent()).hide())})),e(document).on("click",":not(#wu-jumper-button-trigger)",(function(r){const u=r.target;"wu-jumper-button-trigger"!==e(u).attr("id")&&"wu-jumper-button-trigger"!==e(u).parent().attr("id")&&(e(u).is(t.parent())||e(u).parents().is(t.parent())||e(t.parent().parent()).hide())}));const r=wu_jumper_vars.trigger_key.charAt(0);function u(){return e("#wu-jumper").show(),e("#wu-jumper").find("input").focus(),!1}Mousetrap.bind(["command+option+"+r,"ctrl+alt+"+r],(function(e){e.preventDefault(),u()})),e(document).on("click","#wu-jumper-button-trigger",(function(e){e.preventDefault(),u()}))}))}(jQuery);