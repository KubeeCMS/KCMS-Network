!function(t){window.wu_initialize_forms=function(){const e=t(".wu_form").attr("id");jQuery(document).on("wu_"+e+"_changed",wu_modal_refresh),jQuery(document).on("wu_"+e+"_errors_changed",wu_modal_refresh),t(".wu_form").on("submit",(function(a){if(jQuery("textarea[data-editor]")){const t=jQuery("textarea[data-editor]").attr("id"),e=jQuery("textarea[data-editor]").val();jQuery('input[name="'+t+'"]').val(e)}const r=wu_block_ui(this);window["wu_"+e+"_errors"].errors=[],a.preventDefault();let o="";try{o=t(a.originalEvent.submitter).val()}catch(t){}const n=t(".wu_form").serialize()+"&submit="+o;t.post(t(".wu_form").attr("action"),n,(function(a){!0===a.success?("object"==typeof a.data.tables&&(r.unblock(),wutb_remove(),t.each(a.data.tables,(function(t,e){window[e].update()}))),"string"==typeof a.data.redirect_url&&(window.location.href=a.data.redirect_url),"object"==typeof a.data.send&&window[a.data.send.scope][a.data.send.function_name](a.data.send.data,()=>{wutb_remove()})):(r.unblock(),window["wu_"+e+"_errors"].errors=a.data,jQuery('[data-wu-app="'+e+'_errors"]').attr("tabindex",-1).focus())}))}))},t(document).ready((function(){jQuery("body").on("wubox:load",(function(){wu_initialize_editors(),wu_initialize_forms()}))}))}(jQuery);